<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta charset='utf-8' />

    <link rel="stylesheet" href="css/allocate.css">
    <script src="https://unpkg.com/@popperjs/core@2"></script>

    <input type='button' id="knap" value='allocate' onclick="allocateAction()" />
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar-scheduler@6.1.15/index.global.min.js'></script>
    <script src="js/calendar.js"></script>
  </head>
  <body>
    <div id='calendar'></div>
  </body>

  <script type="module">
    import { allocate } from '../js/allocation.js';

    function allocateAction() {
        fetch('allocate', {
            method: 'GET',
            headers: {
                'Content-Type': 'application/json',
            },
        })
            .then((response) => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .then((data) => {
                console.log('Allocation data received:', data);
                // Call the allocate function with the fetched data
                allocate(data);
            })
            .catch((error) => {
                console.error('There was a problem with the fetch operation:', error);
            });
    }
    window.allocateAction = allocateAction;
  </script>
</html>