<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Hotel Calendar over bookings</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="css/allocate.css">
    <!--<script src="https://unpkg.com/@popperjs/core@2"></script>-->
    <div id="controls">

      <label for="dayInput">Number of days to allocate:</label>
      <input type="number" id="dayInput" name="dayInput" value="0" min="0" step="1" />

      <button id="allocateButton_sort1">
        <span class="color-indicator least-diff"></span>
        Allocate least difference
      </button>
    
      <button id="allocateButton_sort2">
        <span class="color-indicator duration"></span>
        Allocate stay duration
      </button>
    
      <button id="allocateRandom_id">
        <span class="color-indicator random"></span>
        Allocate random
      </button>

      <label for="bookingsInput">Amount of bookings:</label>
      <input type="number" id="bookingsInput" name="bookingsInput" value="0" min="0" step="1" />

      <button id="batchButton_id">
        <span class="color-indicator batch"></span>
        Generate bookings
      </button>
    
      <button id="resetMatrix">
        <span class="color-indicator reset"></span>
        Reset matrix
      </button>

      <button id="resetEverything">
        <span class="color-indicator reset"></span>
        Reset everything
      </button>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar-scheduler@6.1.15/index.global.min.js"></script>
    <script src="js/calendar.js"></script>
  </head>
  <body>
    <div id="calendar"></div>
  </body>
  <script type="module">
    // Import needed for allocate (use of calendar in html file)
    import {allocate, allocateAction, generateBatches, 
    resetMatrix, allocateRandom, resetEverything, allocateActioncheckDate}
    from './js/allocation.js';

    // Event listeners and handlers for the buttons
    
    // Generate batch of bookings button
    let batchElem = document.querySelector("#batchButton_id");
    batchElem.addEventListener("click", generateBatches);

    // Reset Matrix button
    let resetMatrixElem = document.querySelector("#resetMatrix");
    resetMatrixElem.addEventListener("click", resetMatrix);
    
    // Reset Everything button
    let resetAllElem = document.querySelector("#resetEverything");
    resetAllElem.addEventListener("click", resetEverything);

    // AllocateRandom button
    let randomElem = document.querySelector("#allocateRandom_id");
    randomElem.addEventListener("click", allocateRandom);

    // Allocate and sort by stay duration
    let allocateElem = document.querySelector("#allocateButton_sort1");
    allocateElem.addEventListener("click", allocateAction);

    // Allocate and sort by checkin/outday duration
    let allocate2Elem = document.querySelector("#allocateButton_sort2");
    allocate2Elem.addEventListener("click", allocateActioncheckDate);


    //window.allocateAction = allocateAction;
      
  </script>
</html>